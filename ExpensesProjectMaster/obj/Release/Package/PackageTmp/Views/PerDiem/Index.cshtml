@model IEnumerable<ExpensesProjectMaster.Models.Entities.PerDiem>


@{
    Layout = null;
    ViewBag.Title = "Index";
    var message = ViewBag.AlertMessage;
}


<script>
    $(document).ready(function() {
        var message = '@message';
        if(message){
            var alert = document.getElementById("message");
            alert.style.visibility = "visible";
            setTimeout(function () {
                $(alert).fadeOut('fast');
            }, 2000);
        }
    })
</script>
<div id="message">
    <div style="padding: 5px;">
        <div class="alert alert-success alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong>Success!</strong> You submitted your expense claim for review
        </div>
    </div>
</div>
<br />
<p>
    <a href="@Url.Action("Create", "Expenses")" class="btn btn-success" role="button">Submit new claim</a>

</p>
<div class="table-responsive">
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Employee.FirstName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Project.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FromDate)
            </th>
            <th>
                    @Html.DisplayNameFor(model => model.ToDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Location)
                </th>

            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Employee.FirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Project.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FromDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ToDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Location)
                </td>


                <td>
                    @Html.ActionLink("Delete", "Delete", new { id = item.ExpenseID }, new { @class ="btn btn-danger"})
                </td>
            </tr>
        }

    </table>
</div>